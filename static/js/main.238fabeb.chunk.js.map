{"version":3,"sources":["images/logo/Vector.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/SkeletonLoader.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/utils.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","onCardDeleteClick","link","name","onCardClick","onCardLike","length","SkeletonLoader","speed","width","height","backgroundColor","foregroundColor","x","y","rx","radius","ry","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","disabled","about","onAddPlace","cards","map","Footer","ImagePopup","onClose","api","baseUrl","headers","this","_baseUrl","_authorization","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","getResponse","cardID","like","method","id","data","body","JSON","stringify","showErrorMassage","err","console","error","PopupWithForm","isOpen","useEffect","handleEcsacePush","event","key","handleOutsideClick","target","classList","contains","window","addEventListener","removeEventListener","title","onSubmit","noValidate","children","EditProfilePopup","useForm","mode","register","handleSubmit","errors","reset","getValues","formState","trigger","setValue","isValid","onUpdateUser","placeholder","ref","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","pattern","value","message","AddPlacePopup","DeleteCardPopup","preventDefault","App","useState","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","getInitialCards","catch","getUserInfo","Provider","changeLikeCardStatus","newCard","state","c","pathUserInfo","patchAvatar","postNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.238fabeb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logoPath from \"../images/logo/Vector.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logoPath} alt=\"логотип место\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser?._id;\r\n  const cardDeleteButtonClassName = `btn btn_type_delete ${\r\n    isOwn ? 'btn_visible ' : ''\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser?._id);\r\n  const cardLikeButtonClassName = `card__like ${\r\n    isLiked ? 'card__like_active' : ''\r\n  }`;\r\n\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    props.onCardDeleteClick(props.card._id);\r\n  };\r\n\r\n  return (\r\n    <article className='card'>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type='button'\r\n        aria-label='удалить'\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <div className='card__wrapper'>\r\n        <img\r\n          className='card__image'\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <div className='card__block'>\r\n        <h2 className='card__name'>{props.card.name}</h2>\r\n        <div className='card__like-container'>\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type='button'\r\n            aria-label='мне нравится'\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className='card__like-counter'>{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nconst SkeletonLoader = (props) => (\r\n  <ContentLoader\r\n    speed={2}\r\n    width={props.width}\r\n    height={props.height}\r\n    backgroundColor='#212121'\r\n    foregroundColor='#383838'\r\n    {...props}\r\n  >\r\n    <rect\r\n      x='0'\r\n      y='0'\r\n      rx={props.radius}\r\n      ry={props.radius}\r\n      width={props.width}\r\n      height={props.height}\r\n    />\r\n  </ContentLoader>\r\n);\r\n\r\nexport default SkeletonLoader;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport SkeletonLoader from './SkeletonLoader.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className='profile'>\r\n        <div className='profile__container'>\r\n          {!currentUser && (\r\n            <SkeletonLoader width='120' height='120' radius='50%' />\r\n          )}\r\n          {currentUser && (\r\n            <div\r\n              className='profile__avatar'\r\n              onClick={props.onEditAvatar}\r\n              style={{\r\n                backgroundImage: `url(${currentUser.avatar})`,\r\n              }}\r\n            />\r\n          )}\r\n          <div className='profile__info'>\r\n            {!currentUser && (\r\n              <SkeletonLoader width='188' height='33' radius='10' />\r\n            )}\r\n            {currentUser && (\r\n              <h1 className='profile__name'>{currentUser.name}</h1>\r\n            )}\r\n            <button\r\n              className='btn btn_type_edit'\r\n              type='button'\r\n              aria-label='изменить'\r\n              onClick={props.onEditProfile}\r\n              disabled={!currentUser}\r\n            />\r\n            {!currentUser && (\r\n              <SkeletonLoader width='203' height='17' radius='10' />\r\n            )}\r\n            {currentUser && (\r\n              <p className='profile__about-me'>{currentUser.about}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='btn btn_type_add'\r\n          type='button'\r\n          aria-label='добавить'\r\n          onClick={props.onAddPlace}\r\n          disabled={!currentUser}\r\n        />\r\n      </section>\r\n      <section className='cards'>\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n\r\n        {props.cards &&\r\n          props.cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={props.onCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDeleteClick={props.onCardDeleteClick}\r\n              />\r\n            );\r\n          })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_img ${props.card ? \"popup_opened\" : \"\"}`}>\r\n      <figure className=\"popup__wrapper\">\r\n        <button\r\n          className=\"btn btn_type_close\"\r\n          type=\"button\"\r\n          aria-label=\"закрыть\"\r\n          onClick={props.onClose}\r\n        />\r\n        <img\r\n          className=\"popup__image\"\r\n          src={props.card && props.card.link}\r\n          alt={props.card && props.card.name}\r\n        />\r\n        <p className=\"popup__description\">{props.card && props.card.name}</p>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import Api from './api';\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  headers: {\r\n    authorization: '79accf8f-cc76-4033-84f9-2d1d81c30157',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nconst showErrorMassage = (err) => {\r\n  console.error(err);\r\n};\r\n\r\nexport { showErrorMassage, api };\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._authorization = headers.authorization;\r\n    this._contentType = headers[\"Content-Type\"];\r\n  }\r\n\r\n  getResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, like) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: like ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  pathUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify(data),\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  patchAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify(link),\r\n    }).then(this.getResponse);\r\n  }\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify(data),\r\n    }).then(this.getResponse);\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","import React, { useEffect } from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const { isOpen, onClose } = props;\r\n\r\n  useEffect(() => {\r\n    const handleEcsacePush = (event) => {\r\n      if (event.key === 'Escape') onClose();\r\n    };\r\n\r\n    const handleOutsideClick = (event) => {\r\n      if (event.target.classList.contains('popup_opened')) onClose();\r\n    };\r\n\r\n    if (isOpen) {\r\n      window.addEventListener('keydown', handleEcsacePush);\r\n      window.addEventListener('mousedown', handleOutsideClick);\r\n    }\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEcsacePush);\r\n      window.removeEventListener('mousedown', handleOutsideClick);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <figure className='popup__container'>\r\n        <button\r\n          onClick={onClose}\r\n          className='btn btn_type_close'\r\n          type='button'\r\n          aria-label='закрыть'\r\n        />\r\n        <h2 className='popup__title'>{props.title}</h2>\r\n        <form\r\n          className='popup__form'\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          {props.children}\r\n        </form>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n    setValue,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n  const { isValid } = formState;\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const onSubmit = () => {\r\n    props.onUpdateUser(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      setValue('name', currentUser.name);\r\n      setValue('about', currentUser.about);\r\n      trigger();\r\n    } else {\r\n      reset();\r\n    }\r\n  }, [props.isOpen, reset, trigger, setValue, currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={0}\r\n      name='edit'\r\n      title='Редактировать профиль'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_name'\r\n        name='name'\r\n        type='text'\r\n        placeholder='Имя'\r\n        ref={register({ required: true, minLength: 2, maxLength: 40 })}\r\n      />\r\n      {errors.name && errors.name.type === 'required' && (\r\n        <span className='popup__error'>Пожалуйста, заполните это поле.</span>\r\n      )}\r\n      {errors.name && errors.name.type === 'minLength' && (\r\n        <span className='popup__error'>\r\n          Пожалуйста, напишите имя длиннее одной буквы.\r\n        </span>\r\n      )}\r\n      {errors.name && errors.name.type === 'maxLength' && (\r\n        <span className='popup__error'>Слишком длинное имя.</span>\r\n      )}\r\n\r\n      <input\r\n        className='popup__input popup__input_text_about-me'\r\n        name='about'\r\n        type='text'\r\n        placeholder='О себе'\r\n        ref={register({ required: true, minLength: 2, maxLength: 200 })}\r\n      />\r\n      {errors.about && errors.about.type === 'required' && (\r\n        <span className='popup__error'>Пожалуйста заполните это поле.</span>\r\n      )}\r\n      {errors.about && errors.about.type === 'minLength' && (\r\n        <span className='popup__error'>\r\n          Слишком мало информации о себе. Напишите что-нибудь еще.\r\n        </span>\r\n      )}\r\n      {errors.about && errors.about.type === 'maxLength' && (\r\n        <span className='popup__error'>Слишком много информации о себе.</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n\r\n  const { isValid } = formState;\r\n\r\n  const onSubmit = () => {\r\n    props.onUpdateAvatar(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [props.isOpen, reset]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={2}\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_link'\r\n        name='avatar'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        ref={register({\r\n          required: true,\r\n          pattern: {\r\n            value: /^https?:\\/\\//,\r\n            message: 'Пожалуйста, введите URL в формате https:// ...',\r\n          },\r\n        })}\r\n      />\r\n      {errors.link && errors.link.type === 'required' && (\r\n        <span className='popup__error'>Пожалуйста, заполните это поле.</span>\r\n      )}\r\n      {errors.link && (\r\n        <span className='popup__error'>{errors.link.message}</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        Сохранить\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n\r\n  const { isValid } = formState;\r\n\r\n  const onSubmit = () => {\r\n    props.onAddPlace(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [props.isOpen, reset]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={1}\r\n      name='add'\r\n      title='Новое место'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_title'\r\n        name='name'\r\n        type='text'\r\n        placeholder='Название'\r\n        ref={register({ required: true, minLength: 2, maxLength: 30 })}\r\n      />\r\n      {errors.name && errors.name.type === 'required' && (\r\n        <span className='popup__error'>Пожалуйста, заполните это поле.</span>\r\n      )}\r\n      {errors.name && errors.name.type === 'minLength' && (\r\n        <span className='popup__error'>\r\n          Пожалуйста, введите название длинее одной буквы.\r\n        </span>\r\n      )}\r\n      {errors.name && errors.name.type === 'maxLength' && (\r\n        <span className='popup__error'>Слишком длинное название.</span>\r\n      )}\r\n      <input\r\n        className='popup__input popup__input_text_link'\r\n        name='link'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        ref={register({\r\n          required: true,\r\n          pattern: {\r\n            value: /^https?:\\/\\//,\r\n            message: 'Пожалуйста, введите URL в формате https:// ...',\r\n          },\r\n        })}\r\n      />\r\n      {errors.link && errors.link.type === 'required' && (\r\n        <span className='popup__error'>Пожалуйста, заполните это поле.</span>\r\n      )}\r\n      {errors.link && (\r\n        <span className='popup__error'>{errors.link.message}</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        Создать\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    props.onSubmit(props.isOpen);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={3}\r\n      name='delete'\r\n      title='Вы уверены?'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n    >\r\n      <button\r\n        className='btn btn_margin_s popup__button popup__button_type_delete'\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        onClick={handleSubmit}\r\n      >\r\n        Да\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport { showErrorMassage, api } from '../utils/utils';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cards, setCards] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  };\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  };\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  };\r\n  const handleCardDeleteClick = (props) => {\r\n    setIsDeletePopupOpen(props);\r\n  };\r\n  const handleCardClick = ({ name, link }) => {\r\n    setSelectedCard({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  };\r\n  const handleUpdateUser = (data) => {\r\n    api\r\n      .pathUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n  const handleUpdateAvatar = (data) => {\r\n    api\r\n      .patchAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n  const handleAddPlaceSubmit = (data) => {\r\n    api\r\n      .postNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeletePopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n  const handleCardDelete = (_id) => {\r\n    api\r\n      .deleteCard(_id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== _id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((res) => {\r\n        setCards(res);\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header />\r\n      <Main\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onCardClick={handleCardClick}\r\n        onCardLike={handleCardLike}\r\n        cards={cards}\r\n        onCardDeleteClick={handleCardDeleteClick}\r\n      />\r\n      <Footer />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n      />\r\n      <DeleteCardPopup\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onSubmit={handleCardDelete}\r\n      />\r\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}