{"version":3,"sources":["images/logo/Vector.svg","components/BurgerMenuButton.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/SkeletonLoader.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/AuthApi.js","utils/utils.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Register.js","components/Login.js","images/alert-succes.svg","images/alert-failure.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["BurgerMenuButton","props","className","isClicked","isLoggedIn","viewBox","width","onClick","d","Header","history","useHistory","useState","isMenuButtonOpen","setIsMenuButtonOpen","useEffect","src","logoPath","alt","email","to","location","pathname","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onCardDeleteClick","link","name","onCardClick","onCardLike","length","SkeletonLoader","speed","height","backgroundColor","foregroundColor","x","y","rx","radius","ry","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","disabled","about","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","handleOutsideClick","event","target","classList","contains","handleEcsacePush","key","window","addEventListener","removeEventListener","Api","baseUrl","headers","this","_baseUrl","_authorization","authorization","_headers","res","ok","json","Promise","reject","status","fetch","then","getResponse","cardID","like","method","id","data","body","JSON","stringify","AuthApi","_getResponse","JWT","Authorization","api","authApi","showErrorMassage","err","console","error","PopupWithForm","title","onSubmit","noValidate","children","EditProfilePopup","useForm","mode","register","handleSubmit","errors","getValues","formState","trigger","setValue","isValid","onUpdateUser","placeholder","ref","required","minLength","value","message","maxLength","onSendingData","EditAvatarPopup","reset","onUpdateAvatar","pattern","AddPlacePopup","DeleteCardPopup","preventDefault","withRouter","password","values","setValues","handleChange","push","catch","onChange","login","localStorage","setItem","token","onLogin","InfoTooltip","succesAlertPath","failureAlertPath","ProtectedRoute","Component","component","loggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltip","setIsInfoTooltip","isSendingData","setIsSendingData","selectedCard","setSelectedCard","setCurrentUser","setEmail","setCards","setLoggedIn","closeAllPopups","state","setTimeout","handleTokenCheck","jwt","getItem","getContent","log","getInitialCards","getUserInfo","Provider","removeItem","path","changeLikeCardStatus","newCard","c","exact","pathUserInfo","finally","patchAvatar","postNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.111a2d50.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.bbe2a6ea.svg\";","import React from 'react';\r\n\r\nexport const BurgerMenuButton = (props) => {\r\n  return (\r\n    <svg\r\n      className={`burger-menu ${props.isClicked ? 'burger-menu_active' : ''} ${\r\n        props.isLoggedIn ? '' : 'burger-menu_logged-in'\r\n      }`}\r\n      viewBox='0 0 100 100'\r\n      width='55'\r\n      onClick={props.onClick}\r\n    >\r\n      <path\r\n        className='burger-menu__line burger-menu__line_type_top'\r\n        d='m 30,33 h 40 c 13.100415,0 14.380204,31.80258 6.899646,33.421777 -24.612039,5.327373 9.016154,-52.337577 -12.75751,-30.563913 l -28.284272,28.284272'\r\n      />\r\n      <path\r\n        className='burger-menu__line burger-menu__line_type_middle'\r\n        d='m 70,50 c 0,0 -32.213436,0 -40,0 -7.786564,0 -6.428571,-4.640244 -6.428571,-8.571429 0,-5.895471 6.073743,-11.783399 12.286435,-5.570707 6.212692,6.212692 28.284272,28.284272 28.284272,28.284272'\r\n      />\r\n      <path\r\n        className='burger-menu__line burger-menu__line_type_bottom'\r\n        d='m 69.575405,67.073826 h -40 c -13.100415,0 -14.380204,-31.80258 -6.899646,-33.421777 24.612039,-5.327373 -9.016154,52.337577 12.75751,30.563913 l 28.284272,-28.284272'\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport logoPath from '../images/logo/Vector.svg';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { BurgerMenuButton } from './BurgerMenuButton';\r\n\r\nfunction Header(props) {\r\n  const history = useHistory();\r\n  const [isMenuButtonOpen, setIsMenuButtonOpen] = useState(false);\r\n\r\n  const handleMenuButtonClick = () => {\r\n    setIsMenuButtonOpen(!isMenuButtonOpen);\r\n  };\r\n\r\n  //код ниже сделан для того, чтобы когда пользователь разлогинивается а потом сразу логинится меню не было открыто\r\n  useEffect(() => {\r\n    if (!props.isLoggedIn) {\r\n      setIsMenuButtonOpen(false);\r\n    }\r\n  }, [props.isLoggedIn]);\r\n\r\n  return (\r\n    <header\r\n      className={`header ${\r\n        isMenuButtonOpen && props.isLoggedIn ? 'header_active' : ''\r\n      } ${props.isLoggedIn ? 'header_logged-in' : ''}`}\r\n    >\r\n      <div className='header__container'>\r\n        <img\r\n          className={`header__logo ${\r\n            props.isLoggedIn ? 'header__logo_logged-in' : ''\r\n          }`}\r\n          src={logoPath}\r\n          alt='логотип место'\r\n        />\r\n        <BurgerMenuButton\r\n          onClick={handleMenuButtonClick}\r\n          isClicked={isMenuButtonOpen}\r\n          isLoggedIn={props.isLoggedIn}\r\n        />\r\n      </div>\r\n      <div\r\n        className={`header__auth ${\r\n          props.isLoggedIn ? 'header__auth_logged-in ' : ''\r\n        }`}\r\n      >\r\n        <p className='header__email'>{props.email}</p>\r\n        <Link\r\n          className={`header__link ${\r\n            props.isLoggedIn ? 'header__link_logined' : ''\r\n          }`}\r\n          to={`${\r\n            history.location.pathname === '/sign-in' ? '/sign-up' : '/sign-in'\r\n          }`}\r\n          onClick={props.onSignOut}\r\n        >\r\n          {props.isLoggedIn\r\n            ? 'Выйти'\r\n            : history.location.pathname === '/sign-in'\r\n            ? 'Регистрация'\r\n            : '/sign-up'\r\n            ? 'Войти'\r\n            : ''}\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useContext } from 'react';\r\n\r\nfunction Card(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser?._id;\r\n  const cardDeleteButtonClassName = `btn btn_type_delete ${\r\n    isOwn ? 'btn_visible ' : ''\r\n  }`;\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser?._id);\r\n  const cardLikeButtonClassName = `card__like ${\r\n    isLiked ? 'card__like_active' : ''\r\n  }`;\r\n\r\n  const handleClick = () => {\r\n    props.onCardClick(props.card);\r\n  };\r\n\r\n  const handleLikeClick = () => {\r\n    props.onCardLike(props.card);\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    props.onCardDeleteClick(props.card._id);\r\n  };\r\n\r\n  return (\r\n    <article className='card'>\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type='button'\r\n        aria-label='удалить'\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <div className='card__wrapper'>\r\n        <img\r\n          className='card__image'\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          onClick={handleClick}\r\n        />\r\n      </div>\r\n      <div className='card__block'>\r\n        <h2 className='card__name'>{props.card.name}</h2>\r\n        <div className='card__like-container'>\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type='button'\r\n            aria-label='мне нравится'\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className='card__like-counter'>{props.card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nconst SkeletonLoader = (props) => (\r\n  <ContentLoader\r\n    speed={2}\r\n    width={props.width}\r\n    height={props.height}\r\n    backgroundColor='#212121'\r\n    foregroundColor='#383838'\r\n    {...props}\r\n  >\r\n    <rect\r\n      x='0'\r\n      y='0'\r\n      rx={props.radius}\r\n      ry={props.radius}\r\n      width={props.width}\r\n      height={props.height}\r\n    />\r\n  </ContentLoader>\r\n);\r\n\r\nexport default SkeletonLoader;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport SkeletonLoader from './SkeletonLoader.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className='profile'>\r\n        <div className='profile__container'>\r\n          {!currentUser && (\r\n            <SkeletonLoader width='120' height='120' radius='50%' />\r\n          )}\r\n          {currentUser && (\r\n            <div\r\n              className='profile__avatar'\r\n              onClick={props.onEditAvatar}\r\n              style={{\r\n                backgroundImage: `url(${currentUser.avatar})`,\r\n              }}\r\n            />\r\n          )}\r\n          <div className='profile__info'>\r\n            {!currentUser && (\r\n              <SkeletonLoader width='188' height='33' radius='10' />\r\n            )}\r\n            {currentUser && (\r\n              <h1 className='profile__name'>{currentUser.name}</h1>\r\n            )}\r\n            <button\r\n              className='btn btn_type_edit'\r\n              type='button'\r\n              aria-label='изменить'\r\n              onClick={props.onEditProfile}\r\n              disabled={!currentUser}\r\n            />\r\n            {!currentUser && (\r\n              <SkeletonLoader width='203' height='17' radius='10' />\r\n            )}\r\n            {currentUser && (\r\n              <p className='profile__about-me'>{currentUser.about}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='btn btn_type_add'\r\n          type='button'\r\n          aria-label='добавить'\r\n          onClick={props.onAddPlace}\r\n          disabled={!currentUser}\r\n        />\r\n      </section>\r\n      <section className='cards'>\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n        {!props.cards && (\r\n          <SkeletonLoader width='100%' height='363' radius='10' />\r\n        )}\r\n\r\n        {props.cards &&\r\n          props.cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={props.onCardClick}\r\n                onCardLike={props.onCardLike}\r\n                onCardDeleteClick={props.onCardDeleteClick}\r\n              />\r\n            );\r\n          })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import { useEffect } from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const { isOpen, onClose } = props;\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (event) => {\r\n      if (event.target.classList.contains('popup_opened')) onClose();\r\n    };\r\n\r\n    const handleEcsacePush = (event) => {\r\n      if (event.key === 'Escape') onClose();\r\n    };\r\n\r\n    if (isOpen) {\r\n      window.addEventListener('keydown', handleEcsacePush);\r\n      window.addEventListener('mousedown', handleOutsideClick);\r\n    }\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEcsacePush);\r\n      window.removeEventListener('mousedown', handleOutsideClick);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_img ${props.isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <figure className='popup__wrapper'>\r\n        <button\r\n          className='btn btn_type_close'\r\n          type='button'\r\n          aria-label='закрыть'\r\n          onClick={props.onClose}\r\n        />\r\n        <img\r\n          className='popup__image'\r\n          src={props.card && props.card.link}\r\n          alt={props.card && props.card.name}\r\n        />\r\n        <p className='popup__description'>{props.card && props.card.name}</p>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._authorization = headers.authorization;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardID, like) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardID}`, {\r\n      method: like ? 'PUT' : 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  pathUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this.getResponse);\r\n  }\r\n\r\n  patchAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(link),\r\n    }).then(this.getResponse);\r\n  }\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this.getResponse);\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","class AuthApi {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  register(data) {\r\n    return fetch(`${this._baseUrl}signup`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._baseUrl}signin`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getContent(JWT) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'GET',\r\n      headers: { ...this._headers, Authorization: `Bearer ${JWT}` },\r\n    }).then(this._getResponse);\r\n  }\r\n}\r\n\r\nexport default AuthApi;\r\n","import Api from './api';\r\nimport AuthApi from './AuthApi';\r\n\r\nexport const api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-20',\r\n  headers: {\r\n    authorization: '79accf8f-cc76-4033-84f9-2d1d81c30157',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport const authApi = new AuthApi({\r\n  baseUrl: 'https://auth.nomoreparties.co/',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\nexport const showErrorMassage = (err) => {\r\n  console.error(err);\r\n};\r\n","import React, { useEffect } from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const { isOpen, onClose } = props;\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (event) => {\r\n      if (event.target.classList.contains('popup_opened')) onClose();\r\n    };\r\n\r\n    const handleEcsacePush = (event) => {\r\n      if (event.key === 'Escape') onClose();\r\n    };\r\n\r\n    if (isOpen) {\r\n      window.addEventListener('keydown', handleEcsacePush);\r\n      window.addEventListener('mousedown', handleOutsideClick);\r\n    }\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEcsacePush);\r\n      window.removeEventListener('mousedown', handleOutsideClick);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <figure className='popup__container'>\r\n        <button\r\n          onClick={onClose}\r\n          className='btn btn_type_close'\r\n          type='button'\r\n          aria-label='закрыть'\r\n        />\r\n        <h2 className='popup__title popup__title_type_form'>{props.title}</h2>\r\n        <form\r\n          className='popup__form'\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          {props.children}\r\n        </form>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n    setValue,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n  const { isValid } = formState;\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const onSubmit = () => {\r\n    props.onUpdateUser(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.isOpen) {\r\n      setValue('name', currentUser.name);\r\n      setValue('about', currentUser.about);\r\n      trigger();\r\n    }\r\n  }, [props.isOpen, trigger, setValue, currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={0}\r\n      name='edit'\r\n      title='Редактировать профиль'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_name'\r\n        name='name'\r\n        type='text'\r\n        placeholder='Имя'\r\n        ref={register({\r\n          required: 'Пожалуйста, заполните это поле.',\r\n          minLength: {\r\n            value: 2,\r\n            message: 'Пожалуйста, напишите имя длиннее одной буквы.',\r\n          },\r\n          maxLength: {\r\n            value: 40,\r\n            message: 'Слишком длинное имя.',\r\n          },\r\n        })}\r\n      />\r\n      {errors.name && (\r\n        <span className='popup__error'>{errors.name.message}</span>\r\n      )}\r\n\r\n      <input\r\n        className='popup__input popup__input_text_about-me'\r\n        name='about'\r\n        type='text'\r\n        placeholder='О себе'\r\n        ref={register({\r\n          required: 'Пожалуйста, заполните это поле.',\r\n          minLength: {\r\n            value: 2,\r\n            message: 'Слишком мало информации о себе. Напишите что-нибудь еще.',\r\n          },\r\n          maxLength: {\r\n            value: 200,\r\n            message: 'Слишком много информации о себе.',\r\n          },\r\n        })}\r\n      />\r\n      {errors.about && (\r\n        <span className='popup__error'>{errors.about.message}</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        {props.onSendingData ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n  const { isValid } = formState;\r\n\r\n  const onSubmit = () => {\r\n    props.onUpdateAvatar(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [props.isOpen, reset]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={2}\r\n      name='avatar'\r\n      title='Обновить аватар'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_link'\r\n        name='avatar'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        ref={register({\r\n          required: 'Пожалуйста, заполните это поле.',\r\n          pattern: {\r\n            value: /^https?:\\/\\//,\r\n            message: 'Пожалуйста, введите URL в формате https:// ...',\r\n          },\r\n        })}\r\n      />\r\n      {errors.avatar && (\r\n        <span className='popup__error'>{errors.avatar.message}</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        {props.onSendingData ? 'Сохранение...' : 'Сохранить'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    errors,\r\n    reset,\r\n    getValues,\r\n    formState,\r\n    trigger,\r\n  } = useForm({\r\n    mode: 'all',\r\n  });\r\n\r\n  const { isValid } = formState;\r\n\r\n  const onSubmit = () => {\r\n    props.onAddPlace(getValues());\r\n    trigger();\r\n  };\r\n\r\n  useEffect(() => {\r\n    reset();\r\n  }, [props.isOpen, reset]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={1}\r\n      name='add'\r\n      title='Новое место'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_text_title'\r\n        name='name'\r\n        type='text'\r\n        placeholder='Название'\r\n        ref={register({\r\n          required: 'Пожалуйста, заполните это поле.',\r\n          minLength: {\r\n            value: 2,\r\n            message: 'Пожалуйста, введите название длинее одной буквы.',\r\n          },\r\n          maxLength: {\r\n            value: 30,\r\n            message: 'Слишком длинное название.',\r\n          },\r\n        })}\r\n      />\r\n      {errors.name && (\r\n        <span className='popup__error'>{errors.name.message}</span>\r\n      )}\r\n      <input\r\n        className='popup__input popup__input_text_link'\r\n        name='link'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        ref={register({\r\n          required: 'Пожалуйста, заполните это поле.',\r\n          pattern: {\r\n            value: /^https?:\\/\\//,\r\n            message: 'Пожалуйста, введите URL в формате https:// ...',\r\n          },\r\n        })}\r\n      />\r\n      {errors.link && (\r\n        <span className='popup__error'>{errors.link.message}</span>\r\n      )}\r\n      <button\r\n        className={`btn btn_margin_l popup__button popup__button_type_add ${\r\n          !isValid && 'popup__button_disabled'\r\n        }`}\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        disabled={!isValid}\r\n      >\r\n        {props.onSendingData ? 'Создание...' : 'Создать'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    props.onSubmit(props.isOpen);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={3}\r\n      name='delete'\r\n      title='Вы уверены?'\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n    >\r\n      <button\r\n        className='btn btn_margin_s popup__button popup__button_type_delete'\r\n        type='submit'\r\n        aria-label='сохранить'\r\n        onClick={handleSubmit}\r\n      >\r\n        {props.onSendingData ? 'Удаление...' : 'Да'}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React, { useState } from 'react';\r\nimport { Link, withRouter, useHistory } from 'react-router-dom';\r\nimport { authApi, showErrorMassage } from '../utils/utils';\r\n\r\nexport const Register = (props) => {\r\n  const [values, setValues] = useState({ password: '', email: '' });\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value,\r\n    });\r\n  };\r\n  const handleSubmt = (event) => {\r\n    event.preventDefault();\r\n    if (!values.password || !values.email) {\r\n      return;\r\n    }\r\n    authApi\r\n      .register(values)\r\n      .then((res) => {\r\n        history.push('/sign-in');\r\n        props.onSubmit(true);\r\n      })\r\n      .catch((err) => {\r\n        props.onSubmit(false);\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form className='auth' onSubmit={handleSubmt}>\r\n      <div className='auth__container'>\r\n        <h2 className='auth__title'>Регистрация</h2>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          name='email'\r\n          placeholder='Email'\r\n          value={values.email}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          name='password'\r\n          placeholder='Пароль'\r\n          onChange={handleChange}\r\n          value={values.password}\r\n        />\r\n      </div>\r\n      <div className='auth__container'>\r\n        <button className='btn btn_type_auth' type='submit'>\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className='auth__link' to='sign-in'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default withRouter(Register);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { authApi, showErrorMassage } from '../utils/utils';\r\n\r\nconst Login = (props) => {\r\n  const [values, setValues] = useState({ password: '', email: '' });\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setValues({\r\n      ...values,\r\n      [name]: value,\r\n    });\r\n  };\r\n  const handleSubmt = (event) => {\r\n    event.preventDefault();\r\n    if (!values.password || !values.email) {\r\n      return;\r\n    }\r\n    authApi\r\n      .login(values)\r\n      .then((res) => {\r\n        setValues({ password: '', email: '' });\r\n        localStorage.setItem('token', res.token);\r\n        props.onLogin();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form className='auth' onSubmit={handleSubmt}>\r\n      <div className='auth__container'>\r\n        <h2 className='auth__title'>Вход</h2>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          name='email'\r\n          placeholder='Email'\r\n          value={values.email}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          name='password'\r\n          placeholder='Пароль'\r\n          value={values.password}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className='auth__container'>\r\n        <button className='btn btn_type_auth btn_margin_login' type='submit'>\r\n          Войти\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","export default __webpack_public_path__ + \"static/media/alert-succes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/alert-failure.7c6a020b.svg\";","import React, { useEffect } from 'react';\r\nimport succesAlertPath from '../images/alert-succes.svg';\r\nimport failureAlertPath from '../images/alert-failure.svg';\r\n\r\nexport const InfoTooltip = (props) => {\r\n  const { isOpen, onClose } = props;\r\n\r\n  useEffect(() => {\r\n    const handleOutsideClick = (event) => {\r\n      if (event.target.classList.contains('popup_opened')) onClose();\r\n    };\r\n\r\n    const handleEcsacePush = (event) => {\r\n      if (event.key === 'Escape') onClose();\r\n    };\r\n\r\n    if (isOpen) {\r\n      window.addEventListener('keydown', handleEcsacePush);\r\n      window.addEventListener('mousedown', handleOutsideClick);\r\n    }\r\n    return () => {\r\n      window.removeEventListener('keydown', handleEcsacePush);\r\n      window.removeEventListener('mousedown', handleOutsideClick);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_alert ${\r\n        isOpen?.isOpen ? 'popup_opened' : ''\r\n      }`}\r\n    >\r\n      <figure className='popup__container popup__container_type_alert'>\r\n        <button\r\n          className='btn btn_type_close'\r\n          type='button'\r\n          aria-label='закрыть'\r\n          onClick={onClose}\r\n        />\r\n        <img\r\n          className='popup__status-image'\r\n          src={isOpen?.status ? succesAlertPath : failureAlertPath}\r\n          alt='Успешная регистрация'\r\n        />\r\n        <h2 className='popup__title popup__title_type_alert'>\r\n          {isOpen?.status\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : 'Что-то пошло не так!Попробуйте ещё раз.'}\r\n        </h2>\r\n      </figure>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport { showErrorMassage, api, authApi } from '../utils/utils';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport { InfoTooltip } from './InfoTooltip';\r\nimport {\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n  withRouter,\r\n  useHistory,\r\n} from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = useState(null);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n  const [isInfoTooltip, setIsInfoTooltip] = useState(null);\r\n  const [isSendingData, setIsSendingData] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [email, setEmail] = useState(null);\r\n  const [cards, setCards] = useState(null);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  };\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  };\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  };\r\n  const handleCardDeleteClick = (props) => {\r\n    setIsDeletePopupOpen(props);\r\n  };\r\n  const handleAlert = (status) => {\r\n    setIsInfoTooltip({ isOpen: true, status });\r\n  };\r\n  const handleCardClick = ({ name, link }) => {\r\n    setIsImagePopupOpen(!isImagePopupOpen);\r\n    setSelectedCard({\r\n      name: name,\r\n      link: link,\r\n    });\r\n  };\r\n  const handleUpdateUser = (data) => {\r\n    setIsSendingData(!isSendingData);\r\n    api\r\n      .pathUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      })\r\n      .finally(() => {\r\n        setIsSendingData(false);\r\n      });\r\n  };\r\n  const handleUpdateAvatar = (data) => {\r\n    setIsSendingData(!isSendingData);\r\n    api\r\n      .patchAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      })\r\n      .finally(() => {\r\n        setIsSendingData(false);\r\n      });\r\n  };\r\n  const handleAddPlaceSubmit = (data) => {\r\n    setIsSendingData(!isSendingData);\r\n    api\r\n      .postNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      })\r\n      .finally(() => {\r\n        setIsSendingData(false);\r\n      });\r\n  };\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsDeletePopupOpen(null);\r\n    setIsImagePopupOpen(false);\r\n    setIsInfoTooltip((state) => {\r\n      return { ...state, isOpen: false };\r\n    });\r\n    setTimeout(() => {\r\n      setIsInfoTooltip(null);\r\n      setSelectedCard(null);\r\n    }, 150);\r\n  };\r\n\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      });\r\n  };\r\n  const handleCardDelete = (_id) => {\r\n    setIsSendingData(!isSendingData);\r\n    api\r\n      .deleteCard(_id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== _id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        showErrorMassage(err);\r\n      })\r\n      .finally(() => {\r\n        setIsSendingData(false);\r\n      });\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  const handleTokenCheck = () => {\r\n    const jwt = localStorage.getItem('token');\r\n    if (jwt) {\r\n      authApi.getContent(jwt).then((res) => {\r\n        console.log(res);\r\n        setEmail(res.data.email);\r\n        handleLogin();\r\n        history.push('/');\r\n      });\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    if (loggedIn) {\r\n      localStorage.removeItem('token');\r\n      history.push('/sign-in');\r\n      setEmail(null);\r\n      setLoggedIn(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleTokenCheck();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getInitialCards()\r\n        .then((res) => {\r\n          setCards(res);\r\n        })\r\n        .catch((err) => {\r\n          showErrorMassage(err);\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getUserInfo()\r\n        .then((res) => {\r\n          setCurrentUser(res);\r\n        })\r\n        .catch((err) => {\r\n          showErrorMassage(err);\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header isLoggedIn={loggedIn} onSignOut={signOut} email={email} />\r\n\r\n      <Switch>\r\n        <Route path='/sign-up'>\r\n          <Register onSubmit={handleAlert} />\r\n        </Route>\r\n        <Route path='/sign-in'>\r\n          <Login onLogin={handleTokenCheck} />\r\n        </Route>\r\n        <ProtectedRoute\r\n          path='/'\r\n          loggedIn={loggedIn}\r\n          component={Main}\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          cards={cards}\r\n          onCardDeleteClick={handleCardDeleteClick}\r\n        ></ProtectedRoute>\r\n        <Route exact path='/'>\r\n          {loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\r\n        </Route>\r\n      </Switch>\r\n      <Footer />\r\n      <InfoTooltip isOpen={isInfoTooltip} onClose={closeAllPopups} />\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n        onSendingData={isSendingData}\r\n      />\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        onSendingData={isSendingData}\r\n      />\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n        onSendingData={isSendingData}\r\n      />\r\n      <DeleteCardPopup\r\n        isOpen={isDeletePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onSubmit={handleCardDelete}\r\n        onSendingData={isSendingData}\r\n      />\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        isOpen={isImagePopupOpen}\r\n        onClose={closeAllPopups}\r\n      />\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}